
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Componentes — Vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - O Framework JavaScript Progressivo">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/guide/components.html">
        <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/guide/components.html">
        <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/guide/components.html">
        <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/guide/components.html">
        <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/guide/components.html">
        <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/guide/components.html">
        <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/guide/components.html">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Componentes — Vue.js">
        <meta property="og:description" content="Vue.js - O Framework JavaScript Progressivo">
        <meta property="og:image" content="https://br.vuejs.org//images/logo.png">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Componentes — Vue.js">
        <meta name="twitter:description" content="Vue.js - O Framework JavaScript Progressivo">
        <meta name="twitter:image" content="https://br.vuejs.org/images/logo.png">

        <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
        <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
        <link rel="icon" href="/images/logo.png" type="image/png">

        <meta name="msapplication-TileColor" content="#4fc08d">
        <meta name="theme-color" content="#4fc08d">

        <meta name="msapplication-config" content="browserconfig.xml">
        <link rel="manifest" href="/manifest.json">

        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.js"></script>
        <script>window.PAGE_TYPE = "guide"</script>

        <!-- ga -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-46852172-1', 'br.vuejs.org');
          ga('send', 'pageview');
        </script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/v2/guide/" class="nav-link current">Guia</a></li>
<li><a href="/v2/api/" class="nav-link">API</a></li>
<li><a href="/v2/examples/" class="nav-link">Exemplos</a></li>
<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecossistema</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Ajuda</h4></li>
    <li><ul>
      <li><a href="http://forum.vuejs.org/" class="nav-link" target="_blank">Forum</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank" style="display: inline-block; padding-right: 0">Chat</a> (<a href="https://vuejs-brasil.slack.com/" class="nav-link" target="_blank" style="display: inline-block; padding: 0">pt-BR</a>)</li>
      <li><a href="https://github.com/vuejs-templates" class="nav-link" target="_blank">Templates</a></li>
    </ul></li>
    <li><h4>Notícias</h4></li>
    <li><ul>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Empregos</a></li>
    </ul></li>
    <li><h4>Plugins Oficiais</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
    </ul></li>
    <li><h4>Listas de Recursos</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Repositórios Oficiais</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Lista Curada</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Traduções</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://cn.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Chinês</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Coreano</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Francês</a></li>
    <li><a href="https://vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Inglês</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Japonês</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Russo</a></li>
  </ul>
</li>

<li>
  <a href="https://vue.threadless.com" target="_blank" class="nav-link shop">Loja</a>
</li>

  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <div class="sidebar-inner">
        <ul class="main-menu">
            <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/v2/guide/" class="nav-link current">Guia</a></li>
<li><a href="/v2/api/" class="nav-link">API</a></li>
<li><a href="/v2/examples/" class="nav-link">Exemplos</a></li>
<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecossistema</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Ajuda</h4></li>
    <li><ul>
      <li><a href="http://forum.vuejs.org/" class="nav-link" target="_blank">Forum</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank" style="display: inline-block; padding-right: 0">Chat</a> (<a href="https://vuejs-brasil.slack.com/" class="nav-link" target="_blank" style="display: inline-block; padding: 0">pt-BR</a>)</li>
      <li><a href="https://github.com/vuejs-templates" class="nav-link" target="_blank">Templates</a></li>
    </ul></li>
    <li><h4>Notícias</h4></li>
    <li><ul>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Empregos</a></li>
    </ul></li>
    <li><h4>Plugins Oficiais</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
    </ul></li>
    <li><h4>Listas de Recursos</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Repositórios Oficiais</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Lista Curada</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Traduções</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://cn.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Chinês</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Coreano</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Francês</a></li>
    <li><a href="https://vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Inglês</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Japonês</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Russo</a></li>
  </ul>
</li>

<li>
  <a href="https://vue.threadless.com" target="_blank" class="nav-link shop">Loja</a>
</li>

        </ul>
        <div class="list">
            <div class="main-sponsor">
                <span>Patrocínio Platina</span><br>
                <a href="https://stdlib.com" target="_blank" class="logo">
                    <img src="/images/stdlib.png">
                </a>
            </div>
            <a class="become-backer" href="/support-vuejs">
                Seja um Patrocinador
            </a>
            <h2>
                Guia
                
                    <select class="version-select">
                        <option value="SELF" selected>2.x</option>
                        <option value="v1">1.0</option>
                        <option value="012">0.12</option>
                        <option value="011">0.11</option>
                    </select>
                
            </h2>
            <ul class="menu-root">
    
        
        
            
                <li><h3>Essenciais</h3></li>
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/installation.html" class="sidebar-link">Instalação</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/index.html" class="sidebar-link">Introdução</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/instance.html" class="sidebar-link">A Instância Vue</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/syntax.html" class="sidebar-link">Sintaxe de Templates</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/computed.html" class="sidebar-link">Dados Computados e Observadores</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/class-and-style.html" class="sidebar-link">Interligações em Classes e Estilos</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/conditional.html" class="sidebar-link">Renderização Condicional</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/list.html" class="sidebar-link">Renderização de Listas</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/events.html" class="sidebar-link">Manipulação de Eventos</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/forms.html" class="sidebar-link">Interligações em Formulários</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/components.html" class="sidebar-link current">Componentes</a>
        </li>
    
        
        
            
            
                <li><h3>Avançado</h3></li>
            
            
            
        
        
        <li>
            <a href="/v2/guide/reactivity.html" class="sidebar-link">Reatividada em Profundidade</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/transitions.html" class="sidebar-link">Efeitos de Transição</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/transitioning-state.html" class="sidebar-link">Transitioning State</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/render-function.html" class="sidebar-link">Funções de Renderização</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/custom-directive.html" class="sidebar-link">Diretivas Personalizadas</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/mixins.html" class="sidebar-link">Mixins</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/plugins.html" class="sidebar-link">Plugins</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/single-file-components.html" class="sidebar-link">Componentes Single-File</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/deployment.html" class="sidebar-link">Publicando em Produção</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/routing.html" class="sidebar-link">Routing</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/state-management.html" class="sidebar-link">Gerenciamento de Estado</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/unit-testing.html" class="sidebar-link">Unit Testing</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/ssr.html" class="sidebar-link">Renderização Server-Side</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/typescript.html" class="sidebar-link">TypeScript Support</a>
        </li>
    
        
        
            
            
            
                <li><h3>Migração</h3></li>
            
            
        
        
        <li>
            <a href="/v2/guide/migration.html" class="sidebar-link">Migração do Vue 1.x</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/migration-vue-router.html" class="sidebar-link">Migração do Vue Router 0.7.x</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/migration-vuex.html" class="sidebar-link">Migração do Vuex 0.6.x para 1.0</a>
        </li>
    
        
        
            
            
            
            
                <li><h3>Diversos</h3></li>
            
        
        
        <li>
            <a href="/v2/guide/comparison.html" class="sidebar-link">Comparação com Outros Frameworks</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/join.html" class="sidebar-link">Junte-se à Comunidade Vue.js!</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/team.html" class="sidebar-link">Conheça a Equipe</a>
        </li>
    
    
</ul>

        </div>
    </div>
</div>


<div class="content guide with-sidebar components-guide">
    
      
        <div id="ad">
  <script>
    (function () {
      var s = document.createElement('script')
      s.setAttribute('async', '')
      s.src = '//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs'
      s.id = '_carbonads_js'
      document.getElementById('ad').appendChild(s)
    })()
  </script>
</div>

      
    
    
      <h1>Componentes</h1>
    
    <h2 id="Entendendo-Componentes"><a href="#Entendendo-Componentes" class="headerlink" title="Entendendo Componentes"></a>Entendendo Componentes</h2><p>Os componentes são um dos recursos mais poderosos do Vue. Eles ajudam a estender os elementos HTML para encapsular código de forma reusável. Em um alto nível, componentes são elementos personalizados que o Vue compila e anexa à sua instância. Em alguns casos, eles podem aparecer como um HTML nativo estendido com o atributo especial <code>is</code>.</p>
<h2 id="Usando-Componentes"><a href="#Usando-Componentes" class="headerlink" title="Usando Componentes"></a>Usando Componentes</h2><h3 id="Registro"><a href="#Registro" class="headerlink" title="Registro"></a>Registro</h3><p>Nós aprendemos nas seções anteriores que podemos criar uma nova instância do Vue com:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#some-element'</span>,</div><div class="line">  <span class="comment">// opções</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Para registrar um componente global, você pode usar <code>Vue.component(tagName, options)</code>. Por exemplo:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</div><div class="line">  <span class="comment">// opções</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p class="tip">Observe que o Vue não força as regras da <a href="http://www.w3.org/TR/custom-elements/#custom-elements-core-concepts" target="_blank" rel="external">W3C</a> para nomes de <em>tags</em> personalizadas (tudo minúsculo, com hífen entre palavras) embora seguir essa convenção seja considerado uma boa prática.</p>

<p>Uma vez registrado, um componente pode ser usado em uma instância como um elemento personalizado <code>&lt;my-component&gt;&lt;/my-component&gt;</code>. Tenha certeza que o elemento é registrado <strong>antes</strong> de ser instanciado na raiz do Vue. Aqui está um exemplo completo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// registro</span></div><div class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;div&gt;Um elemento personalizado!&lt;/div&gt;'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// cria a instância raiz</span></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>O resultado renderizado será:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>Um elemento personalizado!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>

<div id="example" class="demo">
  <my-component></my-component>
</div>
<script>
Vue.component('my-component', {
  template: '<div>Um elemento personalizado!</div>'
})
new Vue({ el: '#example' })
</script>

<h3 id="Registro-Local"><a href="#Registro-Local" class="headerlink" title="Registro Local"></a>Registro Local</h3><p>Você não é obrigado a registrar todo componente globalmente. É possível disponibilizar um componente somente no escopo de outra instância/componente, registrando-o com a opção <code>components</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> Child = &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;div&gt;Um elemento personalizado!&lt;/div&gt;'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  components: &#123;</div><div class="line">    <span class="comment">// &lt;my-component&gt; só estará disponível no template pai</span></div><div class="line">    <span class="string">'my-component'</span>: Child</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>De fato, a mesma regra de encapsulamento se aplica para outros recursos registráveis do Vue, como as diretivas e os filtros.</p>
<h3 id="Cuidados-com-o-Uso-no-DOM"><a href="#Cuidados-com-o-Uso-no-DOM" class="headerlink" title="Cuidados com o Uso no DOM"></a>Cuidados com o Uso no DOM</h3><p>Quando usar o próprio DOM como seu <em>template</em> (isto é, usar a opção <code>el</code> para montar a instância Vue em um conteúdo HTML já existente), você estará sujeito a algumas restrições inerentes a como o HTML funciona, pois o Vue só pode recuperar o conteúdo do <em>template</em> <strong>depois</strong> que o navegador o analisou e o normalizou. De maneira mais perceptível, alguns elementos como <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code>, <code>&lt;table&gt;</code> e <code>&lt;select&gt;</code> têm restrições de quais elementos podem aparecer dentro deles, e alguns elementos como <code>&lt;option&gt;</code> podem aparecer somente dentro de certos outros elementos.</p>
<p>Isso levará a problemas quando usar componentes personalizados no lugar de elementos que possuem tais restrições, por exemplo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-row</span>&gt;</span>...<span class="tag">&lt;/<span class="name">my-row</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></div></pre></td></tr></table></figure>
<p>O componente personalizado <code>&lt;my-row&gt;</code> será jogado para fora da tabela como um conteúdo inválido, causando erros na renderização. Uma solução seria usar o atributo especial <code>is</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">is</span>=<span class="string">"my-row"</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>Note que essas limitações não se aplicam se estiver usando <em>templates</em> baseados em Strings, de uma das seguintes maneiras:</strong>:</p>
<ul>
<li><code>&lt;script type=&quot;text/x-template&quot;&gt;</code></li>
<li><em>Templates Strings</em> do próprio JavaScript</li>
<li>Componentes <code>.vue</code></li>
</ul>
<p>Portanto, para casos simples, prefira usar <em>Template Strings</em> sempre que for possível.</p>
<h3 id="Opcao-data-Sempre-como-Funcao"><a href="#Opcao-data-Sempre-como-Funcao" class="headerlink" title="Opção data Sempre como Função"></a>Opção <code>data</code> Sempre como Função</h3><p>A maioria das opções que podem ser informadas no construtor de uma instância Vue também podem ser usadas em um componente, com um caso em especial: a opção <code>data</code> deve ser uma função. De fato, se você tentar isso:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">message</span>: <span class="string">'olá'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Você será interrompido com avisos no <em>console</em>, informando que <code>data</code> deve ser uma função para instâncias de componentes. É bom entender por que as regras existem: vamos trapacear!</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example-2"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">simple-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">simple-counter</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">simple-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">simple-counter</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">simple-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">simple-counter</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> data = &#123; <span class="attr">counter</span>: <span class="number">0</span> &#125;</div><div class="line"></div><div class="line">Vue.component(<span class="string">'simple-counter'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;button v-on:click="counter += 1"&gt;&#123;&#123; counter &#125;&#125;&lt;/button&gt;'</span>,</div><div class="line">  <span class="comment">// data é tecnicamente uma função, assim o Vue não vai</span></div><div class="line">  <span class="comment">// reclamar, mas nós retornamos a mesma referência ao</span></div><div class="line">  <span class="comment">// mesmo objeto para qualquer instância do componente</span></div><div class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> data</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example-2'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="example-2" class="demo">
  <simple-counter></simple-counter>
  <simple-counter></simple-counter>
  <simple-counter></simple-counter>
</div>
<script>
var data = { counter: 0 }
Vue.component('simple-counter', {
  template: '<button v-on:click="counter += 1">{{ counter }}</button>',
  data: function () {
    return data
  }
})
new Vue({
  el: '#example-2'
})
</script>

<p>Uma vez que todas as três instâncias do componente compartilham o mesmo objeto <code>data</code>, incrementar o contador no objeto reflete em todos eles! Ah não… Vamos corrigir isso, retornando um novo objeto de dados para cada instância do componente:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">counter</span>: <span class="number">0</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Agora cada um dos nossos contadores tem seu próprio estado interno:</p>

<div id="example-2-5" class="demo">
  <my-component></my-component>
  <my-component></my-component>
  <my-component></my-component>
</div>
<script>
Vue.component('my-component', {
  template: '<button v-on:click="counter += 1">{{ counter }}</button>',
  data: function () {
    return {
      counter: 0
    }
  }
})
new Vue({
  el: '#example-2-5'
})
</script>

<h3 id="Compondo-Componentes"><a href="#Compondo-Componentes" class="headerlink" title="Compondo Componentes"></a>Compondo Componentes</h3><p>Componentes são feitos para serem usados juntos, de maneira mais comum em relacionamentos pai-filho: o componente A deve usar o componente B no seu próprio <em>template</em>. Eles inevitavelmente precisam se comunicar entre si: o pai pode precisar passar dados para baixo ao seu próprio filho, e o filho pode precisar informar seu pai de alguma coisa que aconteceu nele. Entretanto, também é muito importante manter o pai e o filho o mais desacoplados possível por meio de uma comunicação clara e definida. Isso garante que o código de cada componente possa ser escrito e entendido de forma relativamente isolada, os tornando mais fáceis de manter e potencialmente mais fáceis de reutilizar.</p>
<p>No Vue, o relacionamento pai-filho pode ser resumido como <strong>propriedades para baixo, eventos para cima</strong>. O pai passa dados para baixo por meio de <strong>propriedades</strong>, e o filho envia mensagens para o pai por meio de <strong>eventos</strong>. Vamos ver como eles funcionam a seguir.</p>
<p style="text-align: center"><br>  <img style="width:300px" src="/images/props-events.png" alt="propriedades para baixo, eventos para cima"><br></p>

<h2 id="Propriedades"><a href="#Propriedades" class="headerlink" title="Propriedades"></a>Propriedades</h2><h3 id="Passando-Dados-com-Propriedades"><a href="#Passando-Dados-com-Propriedades" class="headerlink" title="Passando Dados com Propriedades"></a>Passando Dados com Propriedades</h3><p>Toda instância de componente tem seu próprio <strong>escopo isolado</strong>. Isso significa que você não pode (e não deveria) referenciar diretamente dados do pai no <em>template</em> de um componente filho. Dados podem ser passados para baixo para componentes filho usando <strong>propriedades</strong>.</p>
<p>Uma propriedade é um atributo personalizado para passar informação do pai do componente. Um componente filho precisa declarar explicitamente as propriedades que ele espera receber usando a <a href="../api/#props">opção <code>props</code></a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'child'</span>, &#123;</div><div class="line">  <span class="comment">// declara as propriedades</span></div><div class="line">  props: [<span class="string">'message'</span>],</div><div class="line">  <span class="comment">// assim como os dados, a propriedade pode ser usada dentro de templates</span></div><div class="line">  <span class="comment">// e também se torna disponível na vm como this.message</span></div><div class="line">  template: <span class="string">'&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Então nós podemos passar uma <em>string</em> simples para ela como:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">message</span>=<span class="string">"olá!"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Resultado:</p>

<div id="prop-example-1" class="demo">
  <child message="olá!"></child>
</div>
<script>
new Vue({
  el: '#prop-example-1',
  components: {
    child: {
      props: ['message'],
      template: '<span>{{ message }}</span>'
    }
  }
})
</script>

<h3 id="camelCase-vs-kebab-case"><a href="#camelCase-vs-kebab-case" class="headerlink" title="camelCase vs. kebab-case"></a>camelCase vs. kebab-case</h3><p>Atributos HTML são <em>case-insensitive</em>, então quando usar <em>templates</em> que não são do tipo <em>strings templates</em>, nomes de propriedade <em>camelCased</em> precisam usar sua equivalente em <em>kebab-case</em> (delimitado por hífen):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'child'</span>, &#123;</div><div class="line">  <span class="comment">// camelCase em JavaScript</span></div><div class="line">  props: [<span class="string">'myMessage'</span>],</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;span&gt;&#123;&#123; myMessage &#125;&#125;&lt;/span&gt;'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- kebab-case em HTML --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">my-message</span>=<span class="string">"olá!"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<p>De novo, se você estiver usando <em>string templates</em>, então essa limitação não se aplica.</p>
<h3 id="Propriedades-Dinamicas"><a href="#Propriedades-Dinamicas" class="headerlink" title="Propriedades Dinâmicas"></a>Propriedades Dinâmicas</h3><p>Semelhante à ligação de um atributo normal a uma expressão, nós podemos também usar o <code>v-bind</code> para dinamicamente ligar propriedades a dados no pai. Sempre que os dados forem atualizados no pai, isso fluirá também para o filho:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"parentMsg"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">child</span> <span class="attr">v-bind:my-message</span>=<span class="string">"parentMsg"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Muitas vezes, é mais simples usar a sintaxe abreviada para o <code>v-bind</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:my-message</span>=<span class="string">"parentMsg"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Resultado:</p>

<div id="demo-2" class="demo">
  <input v-model="parentMsg">
  <br>
  <child v-bind:my-message="parentMsg"></child>
</div>
<script>
new Vue({
  el: '#demo-2',
  data: {
    parentMsg: 'Mensagem do pai'
  },
  components: {
    child: {
      props: ['myMessage'],
      template: '<span>{{myMessage}}</span>'
    }
  }
})
</script>

<h3 id="Literal-vs-Dinamico"><a href="#Literal-vs-Dinamico" class="headerlink" title="Literal vs. Dinâmico"></a>Literal vs. Dinâmico</h3><p>Um erro comum que iniciantes tendem a fazer é tentar passar um número usando sintaxe literal:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- isto passa a string "1" --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">some-prop</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<p>No entanto, uma vez que isso é uma propriedade literal, seu valor é passado como uma string <code>&quot;1&quot;</code> ao invés de um número real. Se quisermos passar um número JavaScript real, nós precisamos usar o <code>v-bind</code> para que o seu valor seja avaliado como uma expressão JavaScript:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- isto passa um número real --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">v-bind:some-prop</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Fluxo-de-Dados-Unidirecional"><a href="#Fluxo-de-Dados-Unidirecional" class="headerlink" title="Fluxo de Dados Unidirecional"></a>Fluxo de Dados Unidirecional</h3><p>Todas as propriedades formam uma ligação <strong>unidirecional</strong> entre a propriedade do filho e a do pai: quando a propriedade do pai é atualizada, isso irá fluir para o filho, mas não o caminho de volta. Isso previne os componentes filhos de acidentalmente alterarem o estado dos pais, o que pode dificultar o entendimento dos dados na sua aplicação.</p>
<p>Além disso, sempre que o componente pai é atualizado, todas as propriedades do componente filho serão atualizadas com o último valor. Isto significa que você <strong>não</strong> deveria tentar alterar uma propriedade dentro do componente filho. Se fizer isso, o Vue irá te avisar no console.</p>
<p>Geralmente há dois casos em que é tentador alterar uma propriedade:</p>
<ol>
<li><p>A propriedade é usada só para passar um valor inicial, o componente filho simplesmente quer usá-la como uma propriedade de dado local posteriormente;</p>
</li>
<li><p>A propriedade é passada como um valor bruto que precisa ser transformado.</p>
</li>
</ol>
<p>A resposta apropriada para esses casos de uso são:</p>
<ol>
<li><p>Defina uma propriedade de dado local que usa o valor da propriedade inicial como o seu valor inicial:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">props: [<span class="string">'initialCounter'</span>],</div><div class="line"><span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="attr">counter</span>: <span class="keyword">this</span>.initialCounter &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Defina uma propriedade computada que é computada a partir do valor da propriedade inicial:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">props: [<span class="string">'size'</span>],</div><div class="line"><span class="attr">computed</span>: &#123;</div><div class="line">  <span class="attr">normalizedSize</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.size.trim().toLowerCase()</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p class="tip">Observe que objetos e <em>arrays</em> em JavaScript são passados como referência, então, se uma propriedade é um <em>array</em> ou um objeto, alterar o objeto ou o <em>array</em> dentro do próprio filho <strong>afetará</strong> o estado do pai.</p>

<h3 id="Validacao-de-Propriedades"><a href="#Validacao-de-Propriedades" class="headerlink" title="Validação de Propriedades"></a>Validação de Propriedades</h3><p>É possível para um componente especificar requisitos para as propriedades que ele está recebendo. Se um requisito não é atendido, o Vue emitirá avisos. Isto é especialmente útil quando você está criando um componente que tem a intenção de ser usado por outros.</p>
<p>Em vez de definir as propriedades como um <em>array</em> de <em>strings</em>, você pode usar um objeto com requisitos de validação:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'example'</span>, &#123;</div><div class="line">  <span class="attr">props</span>: &#123;</div><div class="line">    <span class="comment">// verificação de tipo básico (`null` significa aceitar qualquer tipo)</span></div><div class="line">    propA: <span class="built_in">Number</span>,</div><div class="line">    <span class="comment">// vários tipos possíveis</span></div><div class="line">    propB: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</div><div class="line">    <span class="comment">// uma string é obrigatória</span></div><div class="line">    propC: &#123;</div><div class="line">      <span class="attr">type</span>: <span class="built_in">String</span>,</div><div class="line">      <span class="attr">required</span>: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    <span class="comment">// um número com valor padrão</span></div><div class="line">    propD: &#123;</div><div class="line">      <span class="attr">type</span>: <span class="built_in">Number</span>,</div><div class="line">      <span class="attr">default</span>: <span class="number">100</span></div><div class="line">    &#125;,</div><div class="line">    <span class="comment">// objeto/array padrão deveria ser retornado de uma</span></div><div class="line">    <span class="comment">// função de fábrica</span></div><div class="line">    propE: &#123;</div><div class="line">      <span class="attr">type</span>: <span class="built_in">Object</span>,</div><div class="line">      <span class="attr">default</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123; <span class="attr">message</span>: <span class="string">'hello'</span> &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="comment">// função de validação personalizada</span></div><div class="line">    propF: &#123;</div><div class="line">      <span class="attr">validator</span>: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> value &gt; <span class="number">10</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>O <code>type</code> pode ser um dos seguintes construtores nativos:</p>
<ul>
<li>String</li>
<li>Number</li>
<li>Boolean</li>
<li>Function</li>
<li>Object</li>
<li>Array</li>
<li>Symbol</li>
</ul>
<p>Além disso, <code>type</code> também pode ser uma função de construtor personalizada e a asserção será feita com uma verificação <code>instanceof</code>.</p>
<p>Quando a validação de propriedade falha, Vue produz um aviso no <em>console</em> (se estiver utilizando uma compilação de desenvolvimento). Observe que propriedades são validadas <strong>antes</strong> da instância do componente ser criada, portanto em funções <code>default</code> ou <code>validator</code>, propriedades da instância como <code>data</code>, <code>computed</code> ou <code>methods</code> não estarão disponíveis.</p>
<h2 id="Atributo-Nao-Prop"><a href="#Atributo-Nao-Prop" class="headerlink" title="Atributo Não-Prop"></a>Atributo Não-Prop</h2><p>Um atributo não-prop é um atributo passado a um componente, mas que não tem uma propriedade correspondente definida através de <code>props</code>.</p>
<p>Enquanto explicitamente definir <code>props</code> é a forma recomendada de passar informações a componentes filhos, autores de bibliotecas de componentes não podem sempre prever o contexto no qual seus componentes poderão ser utilizados. Por isso componentes podem aceitar atributos arbitrários, os quais são adicionados ao elemento raiz do componente.</p>
<p>Por exemplo, imagine que estamos usando um componente <code>bs-date-input</code> de terceiros, com um <em>plugin</em> Bootstrap que exige um atributo <code>data-3d-date-picker</code> no <code>input</code>. Nós podemos adicionar este atributo à nossa instância do componente:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">bs-date-input</span> <span class="attr">data-3d-date-picker</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">bs-date-input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>E o atributo <code>data-3d-date-picker=&quot;true&quot;</code> será automaticamente adicionado ao elemento raiz do <code>bs-date-input</code>.</p>
<h3 id="Substituindo-Mesclando-Atributos-Existentes"><a href="#Substituindo-Mesclando-Atributos-Existentes" class="headerlink" title="Substituindo/Mesclando Atributos Existentes"></a>Substituindo/Mesclando Atributos Existentes</h3><p>Imagine que este é o template do <code>bs-date-input</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Para especificar um tema para nosso <em>plugin</em> de seleção de datas, precisaríamos adicionar uma classe específica, como essa:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">bs-date-input</span></span></div><div class="line">  <span class="attr">data-3d-date-picker</span>=<span class="string">"true"</span></div><div class="line">  <span class="attr">class</span>=<span class="string">"date-picker-theme-dark"</span></div><div class="line">&gt;<span class="tag">&lt;/<span class="name">bs-date-input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Neste caso, dois valores diferentes para <code>class</code> estão definidos:</p>
<ul>
<li><code>form-control</code>, configurado pelo próprio componente em seu <em>template</em></li>
<li><code>date-picker-theme-dark</code>, passado ao componente através de seu <em>parent</em></li>
</ul>
<p>Para mais atributos, o valor provido ao componente irá substituir o valor previamente definido no componente. Por exemplo, passar <code>type=&quot;large&quot;</code> irá sobreescrever <code>type=&quot;date&quot;</code> e provavelmente quebrar a funcionalidade! Por sorte, os atributos <code>class</code> e <code>style</code> são um pouco mais inteligentes e os valores podem ser mesclados, tornando o valor final: <code>form-control date-picker-theme-dark</code>.</p>
<h2 id="Eventos-Personalizados"><a href="#Eventos-Personalizados" class="headerlink" title="Eventos Personalizados"></a>Eventos Personalizados</h2><p>Nós aprendemos que o pai pode passar dados para o filho usando propriedades, mas como nós comunicamos de volta para o pai quando alguma coisa acontece? É aí que o sistema de eventos personalizados do Vue entra.</p>
<h3 id="Usando-v-on-com-Eventos-Personalizados"><a href="#Usando-v-on-com-Eventos-Personalizados" class="headerlink" title="Usando v-on com Eventos Personalizados"></a>Usando <code>v-on</code> com Eventos Personalizados</h3><p>Toda instância Vue implementa uma <a href="../api/#Instance-Methods-Events">interface de eventos</a>, o que significa que ela pode:</p>
<ul>
<li>Ouvir um evento usando <code>$on(eventName)</code></li>
<li>Disparar um evento usando <code>$emit(eventName)</code></li>
</ul>
<p class="tip">Observe que o sistema de eventos do Vue é separado da <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget" target="_blank" rel="external">EventTarget API</a> do navegador. Embora eles funcionem de maneira semelhante, o <code>$on</code> e o <code>$emit</code> <strong>não</strong> são apelidos para o <code>addEventListener</code> e o <code>dispatchEvent</code>.</p>

<p>Além disso, um componente pai pode ouvir eventos emitidos do componente filho usando o <code>v-on</code> diretamente no <em>template</em> onde o componente filho é usado.</p>
<p class="tip">Você não pode usar o <code>$on</code> para ouvir eventos emitidos pelo filho. Você deve usar o <code>v-on</code> diretamente no <em>template</em>, como no exemplo abaixo.</p>

<p>Aqui está um exemplo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"counter-event-example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; total &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button-counter</span> <span class="attr">v-on:increment</span>=<span class="string">"incrementTotal"</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button-counter</span> <span class="attr">v-on:increment</span>=<span class="string">"incrementTotal"</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'button-counter'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;button v-on:click="incrementCounter"&gt;&#123;&#123; counter &#125;&#125;&lt;/button&gt;'</span>,</div><div class="line">  <span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">counter</span>: <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">incrementCounter</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.counter += <span class="number">1</span></div><div class="line">      <span class="keyword">this</span>.$emit(<span class="string">'increment'</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#counter-event-example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">total</span>: <span class="number">0</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">incrementTotal</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.total += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="counter-event-example" class="demo">
  <p>{{ total }}</p>
  <button-counter v-on:increment="incrementTotal"></button-counter>
  <button-counter v-on:increment="incrementTotal"></button-counter>
</div>
<script>
Vue.component('button-counter', {
  template: '<button v-on:click="incrementCounter">{{ counter }}</button>',
  data: function () {
    return {
      counter: 0
    }
  },
  methods: {
    incrementCounter: function () {
      this.counter += 1
      this.$emit('increment')
    }
  }
})
new Vue({
  el: '#counter-event-example',
  data: {
    total: 0
  },
  methods: {
    incrementTotal: function () {
      this.total += 1
    }
  }
})
</script>

<p>Neste exemplo, é importante notar que o componente filho ainda é completamente desacoplado do que acontece fora dele. Tudo o que ele faz é reportar informações sobre sua própria atividade, no caso de um componente pai se importar.</p>
<h4 id="Ligando-Eventos-Nativos-a-Componentes"><a href="#Ligando-Eventos-Nativos-a-Componentes" class="headerlink" title="Ligando Eventos Nativos a Componentes"></a>Ligando Eventos Nativos a Componentes</h4><p>Pode haver momentos em que você deseja ouvir um evento nativo no elemento raiz de um componente. Nesses casos, você pode usar o modificador <code>.native</code> para o <code>v-on</code>. Por exemplo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-on:click.native</span>=<span class="string">"doTheThing"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="O-Modificador-sync"><a href="#O-Modificador-sync" class="headerlink" title="O Modificador .sync"></a>O Modificador <code>.sync</code></h3><blockquote>
<p>2.3.0+</p>
</blockquote>
<p>Em alguns casos nós podemos precisar de uma “ligação bidirecional” para uma propriedade - na verdade, no Vue 1.x isto é exatamente o que o modificador <code>.sync</code> fornecia. Quando um componente filho altera a propriedade que tem <code>.sync</code>, a mudança de valor refletirá no pai. Isto é conveniente, no entanto isso leva a problemas de manutenção a longo prazo porque quebra a suposição de fluxo de dados unidirecional: o código que altera propriedades do filho está implicitamente afetando o estado do pai.</p>
<p>Este é o motivo pelo qual removemos o modificador <code>.sync</code> quando a versão 2.0 foi lançada. No entanto, descobrimos que, de fato, existem casos em que isso pode ser útil, especialmente quando enviando componentes reutilizáveis. O que nós precisamos mudar é <strong>fazer um código no filho que afeta o estado do pai de forma mais consistente e explícita.</strong></p>
<p>Na versão 2.3.0+ re-introduzimos o modificador <code>.sync</code> para propriedades, mas desta vez ele é só um pouco de “açúcar sintático”, o qual automaticamente se expande para uma escuta <code>v-on</code> adicional. Por exemplo, o seguinte:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">:foo.sync</span>=<span class="string">"bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<p>É expandido para:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">:foo</span>=<span class="string">"bar"</span> @<span class="attr">update:foo</span>=<span class="string">"val =&gt; bar = val"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Para o componente filho atualizar o valor de <code>foo</code>, ele precisa explicitamente emitir um evento em vez de alterar a propriedade diretamente:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">this</span>.$emit(<span class="string">'update:foo'</span>, newValue)</div></pre></td></tr></table></figure>
<h3 id="Componentes-de-Formularios-usando-Eventos-Personalizados"><a href="#Componentes-de-Formularios-usando-Eventos-Personalizados" class="headerlink" title="Componentes de Formulários usando Eventos Personalizados"></a>Componentes de Formulários usando Eventos Personalizados</h3><p>Eventos personalizados também podem ser usados para criar <em>inputs</em> personalizados que funcionam com <code>v-model</code>. Lembre-se:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"something"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>É só um “açúcar sintático” para:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span></span></div><div class="line">  <span class="attr">v-bind:value</span>=<span class="string">"something"</span></div><div class="line">  <span class="attr">v-on:input</span>=<span class="string">"something = $event.target.value"</span>&gt;</div></pre></td></tr></table></figure>
<p>Quando usado com um componente, isto é simplificado para:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">custom-input</span></span></div><div class="line">  <span class="attr">:value</span>=<span class="string">"something"</span></div><div class="line">  @<span class="attr">input</span>=<span class="string">"value =&gt; &#123; something = value &#125;"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">custom-input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Então, para um componente funcionar com o <code>v-model</code>, ele deveria (a partir de 2.2.0+):</p>
<ul>
<li>aceitar uma propriedade <code>value</code></li>
<li>emitir um evento <code>input</code> com um novo valor</li>
</ul>
<p>Vamos vê-lo em ação com um <em>input</em> monetário muito simples:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">currency-input</span> <span class="attr">v-model</span>=<span class="string">"price"</span>&gt;</span><span class="tag">&lt;/<span class="name">currency-input</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'currency-input'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'\</span></div><div class="line">    &lt;span&gt;\</div><div class="line">      $\</div><div class="line">      &lt;input\</div><div class="line">        ref="input"\</div><div class="line">        v-bind:value="value"\</div><div class="line">        v-on:input="updateValue($event.target.value)"&gt;\</div><div class="line">    &lt;/span&gt;\</div><div class="line">  ',</div><div class="line">  <span class="attr">props</span>: [<span class="string">'value'</span>],</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="comment">// Em vez de atualizar o valor diretamente, este</span></div><div class="line">    <span class="comment">// método é usado para formatar e colocar restrições</span></div><div class="line">    <span class="comment">// no valor do input</span></div><div class="line">    updateValue: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> formattedValue = value</div><div class="line">        <span class="comment">// Remove espaços em branco de ambos os lados</span></div><div class="line">        .trim()</div><div class="line">        <span class="comment">// Reduz para 2 casas decimais</span></div><div class="line">        .slice(</div><div class="line">          <span class="number">0</span>,</div><div class="line">          value.indexOf(<span class="string">'.'</span>) === <span class="number">-1</span></div><div class="line">            ? value.length</div><div class="line">            : value.indexOf(<span class="string">'.'</span>) + <span class="number">3</span></div><div class="line">        )</div><div class="line">      <span class="comment">// Se o valor não foi normalizado ainda,</span></div><div class="line">      <span class="comment">// o substitui manualmente para acertar</span></div><div class="line">      <span class="keyword">if</span> (formattedValue !== value) &#123;</div><div class="line">        <span class="keyword">this</span>.$refs.input.value = formattedValue</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// Emite o valor do número através do evento de input</span></div><div class="line">      <span class="keyword">this</span>.$emit(<span class="string">'input'</span>, <span class="built_in">Number</span>(formattedValue))</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="currency-input-example" class="demo">
  <currency-input v-model="price"></currency-input>
</div>
<script>
Vue.component('currency-input', {
  template: '\
    <span>\
      $\
      <input\
        ref="input"\
        v-bind:value="value"\
        v-on:input="updateValue($event.target.value)"\
      >\
    </span>\
  ',
  props: ['value'],
  methods: {
    updateValue: function (value) {
      var formattedValue = value
        .trim()
        .slice(
          0,
          value.indexOf('.') === -1
            ? value.length
            : value.indexOf('.') + 3
        )
      if (formattedValue !== value) {
        this.$refs.input.value = formattedValue
      }
      this.$emit('input', Number(formattedValue))
    }
  }
})
new Vue({
  el: '#currency-input-example',
  data: { price: '' }
})
</script>

<p>A implementação acima, no entanto, é bem ingênua. Por exemplo, é permitido aos usuários entrarem com múltiplos pontos e até letras algumas vezes - eca! Então para aqueles que querem ver um exemplo não trivial, aqui está um filtro monetário mais robusto:</p>
<iframe width="100%" height="300" src="https://jsfiddle.net/chrisvfritz/1oqjojjx/embedded/result,html,js" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<h3 id="Personalizando-o-Componente-v-model"><a href="#Personalizando-o-Componente-v-model" class="headerlink" title="Personalizando o Componente v-model"></a>Personalizando o Componente <code>v-model</code></h3><blockquote>
<p>Novo em 2.2.0+</p>
</blockquote>
<p>Por padrão, o <code>v-model</code> em um componente usa <code>value</code> como a propriedade e <code>input</code> como o evento, mas alguns tipos de <em>input</em> como os <em>checkboxes</em> e os botões <em>radio</em> podem querer usar a propriedade <code>value</code> para um propósito diferente. Usar a opção <code>model</code> pode evitar o conflito nesses casos:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'my-checkbox'</span>, &#123;</div><div class="line">  <span class="attr">model</span>: &#123;</div><div class="line">    <span class="attr">prop</span>: <span class="string">'checked'</span>,</div><div class="line">    <span class="attr">event</span>: <span class="string">'change'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">props</span>: &#123;</div><div class="line">    <span class="attr">checked</span>: <span class="built_in">Boolean</span>,</div><div class="line">    <span class="comment">// isto permite usar a propriedade `value` para um propósito diferente</span></div><div class="line">    value: <span class="built_in">String</span></div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-checkbox</span> <span class="attr">v-model</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"algum valor"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-checkbox</span>&gt;</span></div></pre></td></tr></table></figure>
<p>O acima será equivalente a:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-checkbox</span></span></div><div class="line">  <span class="attr">:checked</span>=<span class="string">"foo"</span></div><div class="line">  @<span class="attr">change</span>=<span class="string">"val =&gt; &#123; foo = val &#125;"</span></div><div class="line">  <span class="attr">value</span>=<span class="string">"algum valor"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">my-checkbox</span>&gt;</span></div></pre></td></tr></table></figure>
<p class="tip">Observe que você ainda terá que declarar a propriedade <code>checked</code> explicitamente.</p>

<h3 id="Comunicacao-Nao-Pai-Filho"><a href="#Comunicacao-Nao-Pai-Filho" class="headerlink" title="Comunicação Não Pai-Filho"></a>Comunicação Não Pai-Filho</h3><p>Algumas vezes dois componentes podem precisar se comunicar sem serem pai/filho um do outro. Em cenários simples, você pode usar uma instância vazia do Vue como uma central de ônibus de eventos:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> bus = <span class="keyword">new</span> Vue()</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// no método do componente A</span></div><div class="line">bus.$emit(<span class="string">'id-selected'</span>, <span class="number">1</span>)</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// no hook created do componente B</span></div><div class="line">bus.$on(<span class="string">'id-selected'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Em casos mais complexos, você deveria considerar empregar um <a href="state-management.html">padrão de gerenciamento de estado</a> dedicado.</p>
<h2 id="Distribuicao-de-Conteudo-com-Slots"><a href="#Distribuicao-de-Conteudo-com-Slots" class="headerlink" title="Distribuição de Conteúdo com Slots"></a>Distribuição de Conteúdo com Slots</h2><p>Ao usar componentes, muitas vezes é desejado compô-los assim:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">app</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">app-footer</span>&gt;</span><span class="tag">&lt;/<span class="name">app-footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">app</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Há duas coisas para observar aqui:</p>
<ol>
<li><p>O componente <code>&lt;app&gt;</code> não sabe qual conteúdo ele irá receber. Isso é decidido pelo componente pai que estiver usando <code>&lt;app&gt;</code>.</p>
</li>
<li><p>O componente <code>&lt;app&gt;</code> provavelmente possui seu próprio <em>template</em>.</p>
</li>
</ol>
<p>Para que a composição funcione, precisamos de um jeito de entreleçar o “conteúdo” do pai e o <em>template</em> do próprio componente. Este é um processo chamado de <strong>distribuição de conteúdo</strong> (ou “transclusão” se você estiver familiarizado com Angular). Vue.js implementa uma API de distribuição de conteúdo que é modelada após o atual <a href="https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Slots-Proposal.md" target="_blank" rel="external">rascunho de especificação de Web Components</a>, usando o elemento especial <code>&lt;slot&gt;</code> para servir como pontos de distribuição para o conteúdo original.</p>
<h3 id="Escopo-de-Compilacao"><a href="#Escopo-de-Compilacao" class="headerlink" title="Escopo de Compilação"></a>Escopo de Compilação</h3><p>Antes de nos aprofundarmos para dentro da API, vamos primeiro esclarecer em qual escopo os conteúdos são compilados. Imagine um <em>template</em> assim:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child-component</span>&gt;</span></div><div class="line">  &#123;&#123; message &#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>A <code>message</code> deveria ser ligada aos dados do pai ou aos dados do filho? A resposta é do pai. Uma regra simples para o escopo do componente é:</p>
<blockquote>
<p>Tudo que estiver no <em>template</em> do pai é compilado no escopo do pai; tudo que estiver no <em>template</em> do filho é compilado no escopo do filho.</p>
</blockquote>
<p>Um erro comum é tentar ligar uma diretiva a uma propriedade/método do filho no <em>template</em> do pai:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- NÃO funciona --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child-component</span> <span class="attr">v-show</span>=<span class="string">"someChildProperty"</span>&gt;</span><span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Assumindo que <code>someChildProperty</code> é uma propriedade no componente filho, o exemplo acima não funcionaria. O <em>template</em> do pai não tem conhecimento do estado do componente filho.</p>
<p>Se você precisa ligar diretivas do escopo-filho a um nó de um componente raiz, você deveria fazer isso no próprio <em>template</em> do componente filho:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'child-component'</span>, &#123;</div><div class="line">  <span class="comment">// isto funciona, pois nós estamos no escopo correto</span></div><div class="line">  template: <span class="string">'&lt;div v-show="someChildProperty"&gt;Child&lt;/div&gt;'</span>,</div><div class="line">  <span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">someChildProperty</span>: <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Da mesma forma, conteúdo distribuído será compilado no escopo dos pais.</p>
<h3 id="Slot-Unico"><a href="#Slot-Unico" class="headerlink" title="Slot Único"></a>Slot Único</h3><p>O conteúdo do pai será <strong>descartado</strong> a menos que o <em>template</em> do componente filho contenha pelo menos um elemento <code>&lt;slot&gt;</code>. Quando há apenas um slot sem atributos, todo o fragmento de conteúdo será inserido em sua posição no DOM, substituindo o próprio slot.</p>
<p>Qualquer coisa originalmente dentro das tags <code>&lt;slot&gt;</code> é considerado <strong>conteúdo reserva</strong>. O conteúdo reserva é compilado no escopo do filho e só será exibido se o elemento hospedeiro estiver vazio e não tiver conteúdo a ser inserido.</p>
<p>Suponha que nós temos um componente chamado <code>my-component</code> com o seguinte <em>template</em>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Eu sou o título do filho<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span></div><div class="line">    Isto só será exibido se não há conteúdo a ser</div><div class="line">    distribuído.</div><div class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>E um pai que usa o componente:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Eu sou o título do pai<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-component</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Este é um conteúdo original<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Este é mais um conteúdo original<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>O resultado renderizado será:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Eu sou o título do pai<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Eu sou o título do filho<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Este é um conteúdo original<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Este é mais um conteúdo original<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Slots-Nomeados"><a href="#Slots-Nomeados" class="headerlink" title="Slots Nomeados"></a>Slots Nomeados</h3><p>Elementos <code>&lt;slot&gt;</code> têm um atributo especial <code>name</code>, que pode ser usado para personalizar ainda mais o conteúdo a ser distribuído. Você pode ter múltiplos slots com nomes diferentes. Um slot nomeado combinará qualquer elemento que tenha um atributo <code>&lt;slot&gt;</code> correspondente no fragmento de conteúdo.</p>
<p>Ainda pode haver um slot sem nome, que é o <strong>slot padrão</strong> que serve como saída para quando não há combinação de conteúdo. Se não houver nenhum slot padrão, o conteúdo não combinado será descartado.</p>
<p>Por exemplo, suponha que tenhamos um componente <code>app-layout</code> com o seguinte <em>template</em>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"header"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Código do pai:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">app-layout</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">slot</span>=<span class="string">"header"</span>&gt;</span>Aqui pode ser um título da página<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Um parágrafo para o conteúdo principal.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>E aqui outro.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span>Aqui vai alguma informação de contato<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">app-layout</span>&gt;</span></div></pre></td></tr></table></figure>
<p>O resultado renderizado será:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Aqui pode ser um título da página<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Um parágrafo para o conteúdo principal.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>E aqui outro.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Aqui vai alguma informação de contato<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>A API de distribuição de conteúdo é um mecanismo muito útil ao projetar componentes que devem ser compostos juntos.</p>
<h3 id="Slots-Escopo"><a href="#Slots-Escopo" class="headerlink" title="Slots Escopo"></a>Slots Escopo</h3><blockquote>
<p>Novo em 2.1.0+</p>
</blockquote>
<p>Um slot escopo é um tipo especial de slot que funciona como um <em>template</em> reusável (em que podemos passar dados para ele) em vez de elementos já renderizados.</p>
<p>Em um componente filho, simplesmente passe os dados para um slot como se você estivesse passando propriedades para um componente:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">text</span>=<span class="string">"olá do filho"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>No pai, um elemento <code>&lt;template&gt;</code> com um atributo especial <code>scope</code> deve existir, indicando que ele é um <em>template</em> para um <em>slot</em> com escopo. O valor do <code>scope</code> é o nome de uma variável temporária que guarda o objeto de propriedades passado do filho:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">child</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">"props"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>olá do pai<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; props.text &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Se nós renderizarmos o código acima, a saída será:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>olá do pai<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>olá do filho<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Um caso de uso mais típico para slots escopo seria um componente de lista que permite que o consumidor do componente personalize como cada item na lista deveria ser renderizado:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-awesome-list</span> <span class="attr">:items</span>=<span class="string">"items"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- slot escopo pode ser nomeado também --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">"item"</span> <span class="attr">scope</span>=<span class="string">"props"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"my-fancy-item"</span>&gt;</span>&#123;&#123; props.text &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-awesome-list</span>&gt;</span></div></pre></td></tr></table></figure>
<p>E o <em>template</em> para o componente de lista:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"item"</span></span></div><div class="line">    <span class="attr">v-for</span>=<span class="string">"item in items"</span></div><div class="line">    <span class="attr">:text</span>=<span class="string">"item.text"</span>&gt;</div><div class="line">    <span class="comment">&lt;!-- conteúdo reserva aqui --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Componentes-Dinamicos"><a href="#Componentes-Dinamicos" class="headerlink" title="Componentes Dinâmicos"></a>Componentes Dinâmicos</h2><p>Você pode usar o mesmo ponto de montagem e dinamicamente alternar entre vários componentes usando o elemento reservado <code>&lt;component&gt;</code> e ligar dinamicamente ao seu atributo <code>is</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">currentView</span>: <span class="string">'home'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">components</span>: &#123;</div><div class="line">    <span class="attr">home</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">    <span class="attr">posts</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">    <span class="attr">archive</span>: &#123; <span class="comment">/* ... */</span> &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">v-bind:is</span>=<span class="string">"currentView"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- o componente muda quando vm.currentView muda! --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Se você preferir, você também pode ligar diretamente aos objetos de componente:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> Home = &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;p&gt;Welcome home!&lt;/p&gt;'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">currentView</span>: Home</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a><code>keep-alive</code></h3><p>Se você quiser manter os componentes na memória para que você possa preservar seu estado ou evitar a re-renderização, você pode envolver um componente dinâmico em um elemento <code>&lt;keep-alive&gt;</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"currentView"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- componentes inativos serão cacheados! --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Confira mais detalhes do <code>&lt;keep-alive&gt;</code> na <a href="../api/#keep-alive">referência da API</a>.</p>
<h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="Criando-Componentes-Reutilizaveis"><a href="#Criando-Componentes-Reutilizaveis" class="headerlink" title="Criando Componentes Reutilizáveis"></a>Criando Componentes Reutilizáveis</h3><p>Ao criar componentes, é bom manter em mente se você pretende reutilizá-lo em algum outro lugar mais tarde. É bom que os componentes únicos sejam fortemente acoplados, mas os componentes reutilizáveis devem definir uma interface pública limpa e não fazer suposições sobre o contexto em que é usado.</p>
<p>A API para um componente Vue vem em três partes - propriedades, eventos e slots:</p>
<ul>
<li><p><strong>Propriedades</strong> permitem que o ambiente externo passe dados para o componente</p>
</li>
<li><p><strong>Eventos</strong> permitem que o componente desencadeie efeitos colaterais no ambiente externo</p>
</li>
<li><p><strong>Slots</strong> permitem que o ambiente externo componha o componente com conteúdo extra</p>
</li>
</ul>
<p>Com as sintaxes abreviadas para <code>v-bind</code> e <code>v-on</code>, as intenções podem ser transmitidas de forma clara e sucinta no <em>template</em>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span></span></div><div class="line">  <span class="attr">:foo</span>=<span class="string">"baz"</span></div><div class="line">  <span class="attr">:bar</span>=<span class="string">"qux"</span></div><div class="line">  @<span class="attr">event-a</span>=<span class="string">"doThis"</span></div><div class="line">  @<span class="attr">event-b</span>=<span class="string">"doThat"</span></div><div class="line">&gt;</div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">slot</span>=<span class="string">"icon"</span> <span class="attr">src</span>=<span class="string">"..."</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"main-text"</span>&gt;</span>Olá!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Referencias-ao-Componente-Filho"><a href="#Referencias-ao-Componente-Filho" class="headerlink" title="Referências ao Componente Filho"></a>Referências ao Componente Filho</h3><p>Apesar da existência de propriedades e eventos, algumas vezes você ainda pode precisar acessar diretamente um componente filho em JavaScript. Para conseguir isso você tem que atribuir um ID de referência para o componente filho usando <code>ref</code>. Por exemplo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">user-profile</span> <span class="attr">ref</span>=<span class="string">"profile"</span>&gt;</span><span class="tag">&lt;/<span class="name">user-profile</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Vue(&#123; <span class="attr">el</span>: <span class="string">'#parent'</span> &#125;)</div><div class="line"><span class="comment">// acessa a instância do componente filho</span></div><div class="line"><span class="keyword">var</span> child = parent.$refs.profile</div></pre></td></tr></table></figure>
<p>Quando <code>ref</code> é usada junto com <code>v-for</code>, a referência que você obtém será um <em>array</em> contendo os componentes filhos que espelham a fonte de dados.</p>
<p class="tip"><code>$refs</code> são populadas somente depois que o componente é renderizado, e isso não é reativo. Elas servem apenas como válvula de escape para a manipulação direta do filho - você deveria evitar o uso de <code>$refs</code> nos <em>templates</em> ou nas propriedades computadas.</p>

<h3 id="Componentes-Assincronos"><a href="#Componentes-Assincronos" class="headerlink" title="Componentes Assíncronos"></a>Componentes Assíncronos</h3><p>Em grandes aplicações, podemos precisar dividir o aplicativo em pedaços menores e carregar apenas o componente do servidor quando ele é realmente necessário. Para facilitar isso, o Vue permite que você defina seu componente como uma função de fábrica que resolva de forma assíncra sua definição de componente. O Vue só acionará a função de fábrica quando o componente realmente precisar ser renderizado e armazenará em <em>cache</em> o resultado para futuras re-renderizações. Por exemplo:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'async-example'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Passa a definição do componente para a callback de resolução</span></div><div class="line">    resolve(&#123;</div><div class="line">      <span class="attr">template</span>: <span class="string">'&lt;div&gt;I am async!&lt;/div&gt;'</span></div><div class="line">    &#125;)</div><div class="line">  &#125;, <span class="number">1000</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>A função de fábrica recebe uma <em>callback</em> <code>resolve</code>, que deve ser chamada quando você recuperar a definição do componente do servidor. Você também pode chamar <code>reject(reason)</code> para indicar que o carregamento falhou. O <code>setTimeout</code> aqui é simplesmente para demonstração; Como recuperar o componente está totalmente por sua conta. Uma abordagem recomendada é usar componentes assíncronos juntamente com a <a href="https://webpack.js.org/guides/code-splitting/" target="_blank" rel="external">função de divisão de código do Webpack</a>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'async-webpack-example'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</div><div class="line">  <span class="comment">// Essa sintaxe especial instruirá o Webpack a</span></div><div class="line">  <span class="comment">// automaticamente dividir seu código compilado em</span></div><div class="line">  <span class="comment">// pacotes que são carregados por requisições Ajax.</span></div><div class="line">  <span class="built_in">require</span>([<span class="string">'./my-async-component'</span>], resolve)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Você também pode retornar uma <code>Promise</code> na função de fábrica, então com a sintaxe do Webpack 2 + ES2015 você pode fazer:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(</div><div class="line">  <span class="string">'async-webpack-example'</span>,</div><div class="line">  () =&gt; <span class="keyword">import</span>(<span class="string">'./my-async-component'</span>)</div><div class="line">)</div></pre></td></tr></table></figure>
<p>Ao usar <a href="components.html#Local-Registration">registro local</a>, você também pode fornecer diretamente uma função que retorne uma <code>Promise</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  components: &#123;</div><div class="line">    <span class="string">'my-component'</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./my-async-component'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p class="tip">Se você é um usuário de <strong>Browserify</strong> que gostaria de usar componentes assíncronos, seu criador infelizmente <a href="https://github.com/substack/node-browserify/issues/58#issuecomment-21978224" target="_blank" rel="external">deixou claro </a> que carregamento assíncrono “não é algo que o Browserify irá suportar”. Oficialmente, pelo menos. A comunidade Browserify encontrou <a href="https://github.com/vuejs/vuejs.org/issues/620" target="_blank" rel="external">algumas soluções de contorno</a>, que podem ser úteis para aplicações existentes e complexas. Para todos os outros cenários, nós recomendamos simplesmente usar o Webpack, com um suporte assíncrono de primeira classe.</p>

<h3 id="Componentes-Assincronos-Avancados"><a href="#Componentes-Assincronos-Avancados" class="headerlink" title="Componentes Assíncronos Avançados"></a>Componentes Assíncronos Avançados</h3><blockquote>
<p>Novo em 2.3.0+</p>
</blockquote>
<p>A partir da versão 2.3.0+ a fábrica de componente assíncrono também pode retornar um objeto no seguinte formato:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> AsyncComp = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</div><div class="line">  <span class="comment">// O componente a carregar, na forma de uma Promise</span></div><div class="line">  component: <span class="keyword">import</span>(<span class="string">'./MyComp.vue'</span>),</div><div class="line">  <span class="comment">// Um componente para usar enquanto o componente assíncrono está carregando</span></div><div class="line">  loading: LoadingComp,</div><div class="line">  <span class="comment">// Um componente para usar se o carregamento falhar</span></div><div class="line">  error: ErrorComp,</div><div class="line">  <span class="comment">// Tempo de espera antes de mostrar o carregamento. Padrão: 200ms</span></div><div class="line">  delay: <span class="number">200</span>,</div><div class="line">  <span class="comment">// O componente de erro será exibido se um limite de tempo é</span></div><div class="line">  <span class="comment">// fornecido e este for excedido. Padrão: Infinity</span></div><div class="line">  timeout: <span class="number">3000</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Observe que, quando usado como um componente de rota em <code>vue-router</code>, essas propriedades serão ignoradas porque os componentes assíncronos são resolvidos antecipadamente, antes que a navegação da rota ocorra. Você também precisa usar <code>vue-router</code> 2.4.0+ se você deseja usar a sintaxe acima para componentes de rota.</p>
<h3 id="Convencoes-para-Nomeacao-de-Componentes"><a href="#Convencoes-para-Nomeacao-de-Componentes" class="headerlink" title="Convenções para Nomeação de Componentes"></a>Convenções para Nomeação de Componentes</h3><p>Ao registrar componentes (ou propriedades), você pode usar <em>kebab-case</em>, <em>camelCase</em>, ou <em>PascalCase</em>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// na definição de um componente</span></div><div class="line">components: &#123;</div><div class="line">  <span class="comment">// registra usando kebab-case</span></div><div class="line">  <span class="string">'kebab-cased-component'</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  <span class="comment">// registra usando camelCase</span></div><div class="line">  <span class="string">'camelCasedComponent'</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  <span class="comment">// registra usando PascalCase</span></div><div class="line">  <span class="string">'PascalCasedComponent'</span>: &#123; <span class="comment">/* ... */</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Dentro de <em>templates</em> HTML no entanto, você tem que usar os <em>kebab-case</em> equivalentes:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- sempre use kebab-case em templates HTML --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">kebab-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">kebab-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">camel-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">camel-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">pascal-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">pascal-cased-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Entretanto, ao usar <em>string templates</em>, nós não estamos ligados pelas restrições <em>case-insensitive</em> do HTML. Isso significa que mesmo no <em>template</em>, você pode referenciar seus componentes usando:</p>
<ul>
<li><em>kebab-case</em></li>
<li><em>camelCase</em> ou <em>kebab-case</em> se o componente foi definido usando <em>camelCase</em></li>
<li><em>kebab-case</em>, <em>camelCase</em> ou <em>PascalCase</em> se o componente foi definido usando <em>PascalCase</em></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">components: &#123;</div><div class="line">  <span class="string">'kebab-cased-component'</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  <span class="attr">camelCasedComponent</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  <span class="attr">PascalCasedComponent</span>: &#123; <span class="comment">/* ... */</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">kebab-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">kebab-cased-component</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">camel-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">camel-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">camelCasedComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">camelCasedComponent</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">pascal-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">pascal-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">pascalCasedComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">pascalCasedComponent</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">PascalCasedComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">PascalCasedComponent</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Isto significa que o <em>PascalCase</em> é a <em>convenção de declaração</em> universal e o <em>kebab-case</em> é a <em>convenção de uso</em> universal.</p>
<p>Se o seu componente não passa conteúdo via elementos <code>slot</code>, você pode fechá-lo com uma <code>/</code> depois do nome:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>De novo, isto <em>somente</em> funciona dentro de <em>string templates</em>, pois elementos personalizados auto-fechados não são HTML válidos e seu navegador nativo não irá entendê-los.</p>
<h3 id="Componentes-Recursivos"><a href="#Componentes-Recursivos" class="headerlink" title="Componentes Recursivos"></a>Componentes Recursivos</h3><p>Componentes podem recursivamente invocar a si mesmos no seu próprio <em>template</em>. No entanto, eles só podem fazer isso com a opção <code>name</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">name: <span class="string">'unique-name-of-my-component'</span></div></pre></td></tr></table></figure>
<p>Quando você registra globalmente um componente usando <code>Vue.component</code>, o ID global é automaticamente atribuído com o nome na opção <code>name</code>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'unique-name-of-my-component'</span>, &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Se você não tomar cuidado, componentes recursivos podem também gerar <em>loops</em> infinitos:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">name: <span class="string">'stack-overflow'</span>,</div><div class="line"><span class="attr">template</span>: <span class="string">'&lt;div&gt;&lt;stack-overflow&gt;&lt;/stack-overflow&gt;&lt;/div&gt;'</span></div></pre></td></tr></table></figure>
<p>Um componente como o de cima resultará em um erro de “tamanho máximo da pilha excedido”, então tenha certeza que a sua invocação recursiva é condicional (isto é, usa um <code>v-id</code> que irá eventualmente ser <code>false</code>).</p>
<h3 id="Referencias-Circulares-Entre-Componentes"><a href="#Referencias-Circulares-Entre-Componentes" class="headerlink" title="Referências Circulares Entre Componentes"></a>Referências Circulares Entre Componentes</h3><p>Vamos dizer que você está construindo uma árvore de arquivos de diretório, como um Finder ou um File Explorer. Você pode ter um componente <code>tree-folder</code> com este <em>template</em>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; folder.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">tree-folder-contents</span> <span class="attr">:children</span>=<span class="string">"folder.children"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Então um componente <code>tree-folder-contents</code> com este <em>template</em>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"child in children"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">tree-folder</span> <span class="attr">v-if</span>=<span class="string">"child.children"</span> <span class="attr">:folder</span>=<span class="string">"child"</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>&#123;&#123; child.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Ao olhar mais de perto, você verá que esses componentes serão na verdade seus descendentes <em>e</em> antepassados uns dos outros na árvore de renderização - um paradoxo! Ao registrar globalmente um componente com <code>Vue.component</code>, este paradoxo é resolvido para você automaticamente. Se esse é você, você pode parar de ler aqui.</p>
<p>Entretanto, se você está pegando/importando componentes usando um <strong>sistem de módulos</strong>, isto é, via Webpack ou Browserify, você terá um erro:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Failed to mount component: template or render function not defined.</div></pre></td></tr></table></figure>
<p>Para explicar o que está acontecendo, irei chamar nossos componentes de A e B. O sistema de módulos enxerga que precisa de A, mas primeiro A precisa de B, mas B precisa de A, mas A precisa de B, etc, etc. Ele fica preso em um <em>loop</em>, não sabendo completamente como resolver nenhum dos componentes sem primeiro resolver o outro. Para consertar isso, nós precisamos dar ao sistema de módulos um ponto em que ele possa dizer, “A precisa de B <em>eventualmente</em>, mas não há necessidade de resolver o B primeiro.”</p>
<p>No nosso caso, irei fazer esse ponto o componente <code>tree-folder</code>. Nós sabemos que o filho que cria o paradoxo é o componente <code>tree-folder-contents</code>, então esperaremos até que o hook de ciclo de vida <code>beforeCreate</code> o registre:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">beforeCreate: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.$options.components.TreeFolderContents = <span class="built_in">require</span>(<span class="string">'./tree-folder-contents.vue'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Problema resolvido!</p>
<h3 id="Templates-de-mesma-linha"><a href="#Templates-de-mesma-linha" class="headerlink" title="Templates de mesma linha"></a>Templates de mesma linha</h3><p>Quando o atributo especial <code>inline-template</code> está presente em um componente filho, o componente usará seu conteúdo interno como seu <em>template</em>, ao invés de tratá-lo como um conteúdo distribuído. Isto permite mais flexibilidade na criação de <em>templates</em>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">inline-template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Esses são compilados como o próprio template do componente.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Não é o conteúdo de transclusão do pai.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Porém, os <code>inline-template</code> dificultam o entendimento do escopo dos seus <em>templates</em>. Como uma melhor prática, prefira definir <em>templates</em> dentro do componente usando a opção <code>template</code> ou em um elemento <code>template</code> em um arquivo <code>.vue</code>.</p>
<h3 id="X-Templates"><a href="#X-Templates" class="headerlink" title="X-Templates"></a>X-Templates</h3><p>Outro jeito de definir <em>templates</em> é dentro de um elemento script com o tipo <code>text/x-template</code>, e então referenciando o <em>template</em> por um id. Por exemplo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-template"</span> <span class="attr">id</span>=<span class="string">"hello-world-template"</span>&gt;</span><span class="xml"></span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Olá olá olá<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'hello-world'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'#hello-world-template'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Estes podem ser utéis para demonstrações com grandes <em>templates</em> ou em aplicações extremamente pequenas, mas devem ser evitados, pois eles separam os <em>templates</em> do resto da definição do componente.</p>
<h3 id="Componentes-Estaticos-Baratos-com-v-once"><a href="#Componentes-Estaticos-Baratos-com-v-once" class="headerlink" title="Componentes Estáticos Baratos com v-once"></a>Componentes Estáticos Baratos com <code>v-once</code></h3><p>Renderizar elementos HTML é muito fácil com o Vue, mas algumas vezes você pode ter um componente que contém <strong>muito</strong> conteúdo estático. Nestes casos, você pode garantir que ele seja avaliado somente uma vez, e então armazenado no cache, adicionando a diretiva <code>v-once</code> na raiz do elemento, assim:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'terms-of-service'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'\</span></div><div class="line">    &lt;div v-once&gt;\</div><div class="line">      &lt;h1&gt;Termos de Serviço&lt;/h1&gt;\</div><div class="line">      ... um monte de conteúdo estático ...\</div><div class="line">    &lt;/div&gt;\</div><div class="line">  '</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

    
      <div class="guide-links">
        
          <span>← <a href="/v2/guide/forms.html">Interligações em Formulários</a></span>
        
        
          <span style="float:right"><a href="/v2/guide/reactivity.html">Reatividada em Profundidade</a> →</span>
        
      </div>
    
    <div class="footer">
      Encontrou um problema ou quer contribuir com a documentação?
      <a href="https://github.com/vuejs-br/br.vuejs.org/blob/master/src/v2/guide/components.md" target="_blank">
        Edite esta página no Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>

        <!-- search -->
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/search.css">
        <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
        <script>
        [
          '#search-query-nav',
          '#search-query-sidebar',
          '#search-query-menu'
        ].forEach(function (selector) {
          if (!document.querySelector(selector)) return
          // search index defaults to v2
          var match = window.location.pathname.match(/^\/(v\d+)/)
          var version = match ? match[1] : 'v2'
          docsearch({
            appId: 'BH4D9OD16A',
            apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
            indexName: 'vuejs',
            inputSelector: selector,
            algoliaOptions: { facetFilters: ["version:" + version] }
          })
        })
        </script>

        <!-- fastclick -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
    </body>
</html>
